{"remainingRequest":"/Users/fares/Desktop/rec_sys/front-end-vuejs/node_modules/babel-loader/lib/index.js!/Users/fares/Desktop/rec_sys/front-end-vuejs/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/fares/Desktop/rec_sys/front-end-vuejs/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/fares/Desktop/rec_sys/front-end-vuejs/src/views/Category.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/fares/Desktop/rec_sys/front-end-vuejs/src/views/Category.vue","mtime":1614979738000},{"path":"/Users/fares/Desktop/rec_sys/front-end-vuejs/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fares/Desktop/rec_sys/front-end-vuejs/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/fares/Desktop/rec_sys/front-end-vuejs/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fares/Desktop/rec_sys/front-end-vuejs/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1632349277000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9mYXJlcy9EZXNrdG9wL3JlY19zeXMvZnJvbnQtZW5kLXZ1ZWpzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgdG9hc3QgfSBmcm9tICdidWxtYS10b2FzdCc7CmltcG9ydCBQcm9kdWN0Qm94IGZyb20gJ0AvY29tcG9uZW50cy9Qcm9kdWN0Qm94JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDYXRlZ29yeScsCiAgY29tcG9uZW50czogewogICAgUHJvZHVjdEJveDogUHJvZHVjdEJveAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNhdGVnb3J5OiB7CiAgICAgICAgcHJvZHVjdHM6IFtdCiAgICAgIH0KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXRDYXRlZ29yeSgpOwogIH0sCiAgd2F0Y2g6IHsKICAgICRyb3V0ZTogZnVuY3Rpb24gJHJvdXRlKHRvLCBmcm9tKSB7CiAgICAgIGlmICh0by5uYW1lID09PSAnQ2F0ZWdvcnknKSB7CiAgICAgICAgdGhpcy5nZXRDYXRlZ29yeSgpOwogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRDYXRlZ29yeTogZnVuY3Rpb24gZ2V0Q2F0ZWdvcnkoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBjYXRlZ29yeVNsdWc7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY2F0ZWdvcnlTbHVnID0gX3RoaXMuJHJvdXRlLnBhcmFtcy5jYXRlZ29yeV9zbHVnOwoKICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoJ3NldElzTG9hZGluZycsIHRydWUpOwoKICAgICAgICAgICAgICAgIGF4aW9zLmdldCgiL2FwaS92MS9wcm9kdWN0cy8iLmNvbmNhdChjYXRlZ29yeVNsdWcsICIvIikpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmNhdGVnb3J5ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBfdGhpcy5jYXRlZ29yeS5uYW1lICsgJyB8IERqYWNrZXRzJzsKICAgICAgICAgICAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgICAgICAgIHRvYXN0KHsKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnU29tZXRoaW5nIHdlbnQgd3JvbmcuIFBsZWFzZSB0cnkgYWdhaW4uJywKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaXMtZGFuZ2VyJywKICAgICAgICAgICAgICAgICAgICBkaXNtaXNzaWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBwYXVzZU9uSG92ZXI6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDIwMDAsCiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdib3R0b20tcmlnaHQnCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgnc2V0SXNMb2FkaW5nJywgZmFsc2UpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/fares/Desktop/rec_sys/front-end-vuejs/src/views/Category.vue"],"names":[],"mappings":";;;AAgBA,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAS,KAAT,QAAsB,aAAtB;AAEA,OAAO,UAAP,MAAuB,yBAAvB;AAEA,eAAe;AACX,EAAA,IAAI,EAAE,UADK;AAEX,EAAA,UAAU,EAAE;AACR,IAAA,UAAS,EAAT;AADQ,GAFD;AAKX,EAAA,IALW,kBAKJ;AACH,WAAO;AACH,MAAA,QAAQ,EAAE;AACN,QAAA,QAAQ,EAAE;AADJ;AADP,KAAP;AAKH,GAXU;AAYX,EAAA,OAZW,qBAYD;AACN,SAAK,WAAL;AACH,GAdU;AAeX,EAAA,KAAK,EAAE;AACH,IAAA,MADG,kBACI,EADJ,EACQ,IADR,EACc;AACb,UAAI,EAAE,CAAC,IAAH,KAAY,UAAhB,EAA4B;AACxB,aAAK,WAAL;AACJ;AACJ;AALG,GAfI;AAsBX,EAAA,OAAO,EAAE;AACC,IAAA,WADD,yBACe;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACV,gBAAA,YADU,GACK,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,aADxB;;AAGhB,gBAAA,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,cAAnB,EAAmC,IAAnC;;AAEA,gBAAA,KAAI,CACC,GADL,4BAC6B,YAD7B,QAEK,IAFL,CAEU,UAAA,QAAO,EAAK;AACd,kBAAA,KAAI,CAAC,QAAL,GAAgB,QAAQ,CAAC,IAAzB;AAEA,kBAAA,QAAQ,CAAC,KAAT,GAAiB,KAAI,CAAC,QAAL,CAAc,IAAd,GAAqB,aAAtC;AACH,iBANL,WAOW,UAAA,KAAI,EAAK;AACZ,kBAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AAEA,kBAAA,KAAK,CAAC;AACF,oBAAA,OAAO,EAAE,yCADP;AAEF,oBAAA,IAAI,EAAE,WAFJ;AAGF,oBAAA,WAAW,EAAE,IAHX;AAIF,oBAAA,YAAY,EAAE,IAJZ;AAKF,oBAAA,QAAQ,EAAE,IALR;AAMF,oBAAA,QAAQ,EAAE;AANR,mBAAD,CAAL;AAQH,iBAlBL;;AAoBA,gBAAA,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,cAAnB,EAAmC,KAAnC;;AAzBgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA0BpB;AA3BK;AAtBE,CAAf","sourcesContent":["<template>\n    <div class=\"page-category\">\n        <div class=\"columns is-multiline\">\n            <div class=\"column is-12\">\n                <h2 class=\"is-size-2 has-text-centered\">{{ category.name }}</h2>\n            </div>\n\n            <ProductBox \n                v-for=\"product in category.products\"\n                v-bind:key=\"product.id\"\n                v-bind:product=\"product\" />\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport { toast } from 'bulma-toast'\n\nimport ProductBox from '@/components/ProductBox'\n\nexport default {\n    name: 'Category',\n    components: {\n        ProductBox\n    },\n    data() {\n        return {\n            category: {\n                products: []\n            }\n        }\n    },\n    mounted() {\n        this.getCategory()\n    },\n    watch: {\n        $route(to, from) {\n            if (to.name === 'Category') {\n                this.getCategory()\n            }\n        }\n    },\n    methods: {\n        async getCategory() {\n            const categorySlug = this.$route.params.category_slug\n\n            this.$store.commit('setIsLoading', true)\n\n            axios\n                .get(`/api/v1/products/${categorySlug}/`)\n                .then(response => {\n                    this.category = response.data\n\n                    document.title = this.category.name + ' | Djackets'\n                })\n                .catch(error => {\n                    console.log(error)\n\n                    toast({\n                        message: 'Something went wrong. Please try again.',\n                        type: 'is-danger',\n                        dismissible: true,\n                        pauseOnHover: true,\n                        duration: 2000,\n                        position: 'bottom-right',\n                    })\n                })\n\n            this.$store.commit('setIsLoading', false)\n        }\n    }\n}\n</script>"],"sourceRoot":""}]}